# FormsButton

## Overview

ボタンデザインとして3状態の画像ボタンを使用したいケースは多い。
- 通常時
- 押下時
- 非活性時

XamarinFormsの吊るしButtonコントロールでは実現できないらしい。
実現方法を検討する。

## Buttonコントロール

吊るしのコントロールで実現可能な境界線を調べる。

### preview

Textに日本語を設定してもプレビューできないバグがあるらしい。

### Imageプロパティ

> .NET Standard ライブラリ プロジェクトではなく、
> 個々 のプラットフォームのプロジェクト内のリソースとして、
> ビットマップを格納する必要があります。

このプロパティは背景をビットマップにするためのものではない。
コンテントとしてテキストと並べて配置するための画像指定となる。
よってButtonのBackgroundColorの背景の上に部分的に画像が乗る。

以上で調査終了。

## カスタムボタン試作その1

### Grid方式

ボタン背景画像と透明背景Buttonを重ねる。

### ImageResourceExtension

XAMLに共通部に追加したリソースファイル名を指定する場合はコンバーターが必要となる。

### エフェクト

ButtonのBackgroundColorを透明にするとエフェクトが発生しなくなる。

### 画像サイズ

Aspect="Fill"を使用するとボタンサイズに合わせて拡縮されるが当然ゆがむ。

### 結論

アニメーションが消えるのは致命的なので二枚絵方式は必須。
Frameの半透明黒を重ねて押下状態にできるか試したが、
端まで使った四角画像でなければFrameがはみ出てしまう。
不透明マスクなどは無い。

